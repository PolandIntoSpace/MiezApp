
<CustomPopup>:
    size_hint: .5, .5
    #size: 10, 10
    auto_dismiss: False
    title: "Touch to exit"
    BoxLayout:
        Button:
            text: "close"
            on_press: root.dismiss()
            Image:
                size: self.width, self.height
                source: 'data/SpIn1.jpeg'
                #y: self.parent.y + self.parent.height - 290
                y: self.parent.y
                x: self.parent.x
                size: self.parent.size
                stretch: True

<MiezIcon>:
    #size: 30, 30
    canvas:
        Rectangle:
            size: self.center_x * 0.7, self.center_y * 0.9
            pos: self.center_x * 0.5, self.center_y * 0.8
            source: 'data/Kittler.png'


<MiezBall>:
    size: 70, 70
    canvas:
        Color:
            rgb: (1, 0, 0.5)
        Ellipse:
            #pos: self.pos
            pos: self.center_x * 0.5, self.center_y * 0.8
            #size: self.size
            #size: 50,50
            #color: 0, 1, 0, 0.4



##################################################
#MiezBoxLayout:

<MiezBox>:
    #orientation: "vertical"
    orientation: 'horizontal'
    padding: 2
    spacing: 0
    ball: ball_id
    icon: icon_id

    BoxLayout:
        id: wall_id
        orientation: "horizontal"
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'data/Wand3.jpg'

            Rectangle:
                size: self.center_x * 0.3, self.center_y * 0.7
                pos: self.center_x, self.center_y
                source: 'data/Tuer2.png'
                on_press: root.open_popup()

    BoxLayout:
        id: boden_id
        orientation: "horizontal"
        size_hint_y: .50
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'data/Boden1.jpg'

        MiezIcon:
            id: icon_id
            #source: 'data/Kittler.png'
            center: self.parent.center

        MiezBall:
            id: ball_id
            center: self.parent.center


    BoxLayout:
        orientation: "horizontal"
        size_hint_y: .15

        Spinner:
            text: "Sensor"
            values: ["Minky", "e626", "Mizi"]
            id: spinnerCat_id
            on_text: root.spinner_clicked(spinnerCat_id.text)

        Button:
            text: 'Open settings'
            on_release: app.open_settings()

        Button:
            text: "Go to next screen"
            on_press:
                root.manager.transition.direction = "left"
                root.manager.transition.duration = 1
                root.manager.current = 'sensor_screen'

<SensorBox>:
    BoxLayout:
        orientation: 'vertical'

        Label:
            text:
                ('[b]Hier[/b] [color=ff0099]k√∂nnte[/color]\n'
                '[color=ff0099]Ihre[/color] [b]Werbung[/b]\n'
                '[b]stehen[/b] [color=ff0099]![/color]')
            markup: True
            font_size: '64pt'

        Button:
            size_hint_y: .15
            text: "Go back to MiezApp"
            on_press:
                root.manager.transition.direction = "right"
                root.manager.current = 'miez_screen'
